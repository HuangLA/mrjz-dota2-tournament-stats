# 测试脚本说明

本文件夹包含后端项目的测试脚本。

## 可用测试

### test-api-complete.js
**用途**: 完整的 API 端点测试

**运行方式**:
```bash
node tests/test-api-complete.js
```

**测试内容**:
- 所有 16 个 API 端点
- 响应格式验证
- 错误处理测试

**预期结果**: 16/16 passed (100%)

---

### sync-league.js
**用途**: 手动同步指定联赛的所有比赛数据

**运行方式**:
```bash
node tests/sync-league.js
```

**功能**:
- 从 Steam API 获取联赛比赛列表
- 从 OpenDota API 获取比赛详情
- 同步比赛、选手、成就数据到数据库
- 显示同步进度和统计

**注意事项**:
- 需要配置 `.env` 文件中的 `LEAGUE_ID`
- 同步过程较慢（每场比赛 2-3 秒）
- 会自动跳过已存在的比赛

---

## 运行前提

1. 确保数据库已启动并配置正确
2. 确保 `.env` 文件配置完整
3. 确保已安装所有依赖: `npm install`

---

## 测试最佳实践

1. **API 测试**: 在修改控制器或路由后运行 `test-api-complete.js`
2. **数据同步**: 定期运行 `sync-league.js` 更新比赛数据
3. **自动化**: 可以将这些测试集成到 CI/CD 流程中

---

**最后更新**: 2026-01-13
